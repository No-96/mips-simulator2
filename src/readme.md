# scoreboarding 算法

-------------------

MDZZ 之前Project1的时候没有考虑到Project2，重写接口又感觉麻烦，只能一顿操作只有自己看的懂了。一定要好好学学面向对象编程，面向过程扩展程序和修改程序太麻烦了！！！！

## 填坑之路

1

在project1中是顺序执行，所以我在设计的时候取指令，解析指令，取操作数和写入结果都是同事执行的，然后Project2中不是这样，这TM都是需要分开的，over！！！但是不想一起project的操作，于是强行在每个阶段假装解析了指令和取操作数，实际上我保存的还是原始指令，在最后阶段再调用之前Project1的函数返回结果。不要问我为什么，中间只要记录寄存器正在被什么指令操作就行，以及之后的指令能否操作。

**设计数据结构如下**

```python
is_stall = False # 是否is_stall 主要在分支那
is_break = False # 是否结束
pre_issue = []  # 存指令在指令队列中的编号
# 其他的存储队列
pre_alu1 = [] 
pre_alu2 = []
pre_mem = []
post_alu2 = []
post_mem = []

reg_ready = [True] * 32 # 用来记录比较跳转指令的时候寄存器中的值能否被读
# 对应的是pre_issue中的指令下标
reg_w = [4] * 32  # 谁要写这个寄存器
reg_r = [4] * 32  # 谁要读这个寄存器
executed_instruction = ""
waiting_instruction = ""
```

2

输出格式也是稀碎，给的模板中输出TM是有问题的有木有，不求满分只求及格，所以不在乎了~~~~